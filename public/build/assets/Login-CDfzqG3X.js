import{r as l,j as e,a as N}from"./app-CnuuUVAv.js";import{u as b}from"./index.esm-Ctihm-d5.js";import{P as v,c as h,a as y,B as f}from"./index-Fdi4hGc0.js";import{d as L}from"./index-C1K0-1mr.js";import{C as E,a as C,d as S,e as D,b as F}from"./card-DFevLNd8.js";import{I as p}from"./input-BAMlnd9k.js";import{L as P,y as q}from"./index-B21byFpd.js";var I="Label",g=l.forwardRef((a,t)=>e.jsx(v.label,{...a,ref:t,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||((r=a.onMouseDown)==null||r.call(a,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));g.displayName=I;var j=g;const R=y("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef(({className:a,...t},s)=>e.jsx(j,{ref:s,className:h(R(),a),...t}));o.displayName=j.displayName;function M({className:a,...t}){const{register:s,handleSubmit:n,formState:{errors:r}}=b(),[d,c]=l.useState(!1),[m,x]=l.useState(null),w=async u=>{x(null),c(!0);try{const i=await N.post("/Userlogin",{email:u.email,password:u.password});console.log("Login successful:",i),i.data.redirect&&L.Inertia.visit(i.data.redirect)}catch(i){x("Invalid email or password."),console.error("Login error:",i.response.data.message),q.error("Unauthorized User ")}finally{c(!1)}};return e.jsxs("div",{className:h("flex flex-col gap-6",a),...t,children:[e.jsx(P,{}),e.jsxs(E,{children:[e.jsxs(C,{children:[e.jsx(S,{className:"text-2xl",children:"Login"}),e.jsx(D,{children:"Enter your email below to login to your account"})]}),e.jsx(F,{children:e.jsxs("form",{onSubmit:n(w),children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",placeholder:"m@example.com",...s("email",{required:"Email is required"})}),r.email&&e.jsx("span",{className:"text-sm text-red-500",children:r.email.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsx("a",{href:"#",className:"ml-auto inline-block text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),e.jsx(p,{id:"password",type:"password",...s("password",{required:"Password is required"})}),r.password&&e.jsx("span",{className:"text-sm text-red-500",children:r.password.message})]}),e.jsx(f,{type:"submit",className:"w-full",disabled:d,children:d?"Logging in...":"Login"}),e.jsx(f,{variant:"outline",className:"w-full",children:"Login with Google"})]}),m&&e.jsx("div",{className:"mt-4 text-red-500 text-center",children:m}),e.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",e.jsx("a",{href:"#",className:"underline underline-offset-4",children:"Sign up"})]})]})})]})]})}function T(){return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(M,{})})}export{T as default};
