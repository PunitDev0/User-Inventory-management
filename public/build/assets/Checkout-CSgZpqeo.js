import{r as c,j as e,R as oe,a as de}from"./app-B02Ly1hf.js";import{u as le}from"./index.esm-0M-0sKma.js";import{S as q,P as ce}from"./sweetalert2.esm.all-CdsQK3nV.js";import{b as L,I as v,B as ue}from"./input-BjoH0yjQ.js";import{C as _,a as D,b as E}from"./card-BmbWJBTr.js";import{C as me}from"./calendar-CORPD8kB.js";import{L as ge}from"./Layout-BvgY1tzC.js";import{o as pe}from"./orders-BLm81N4B.js";import{d as xe}from"./index-v4oA8RxA.js";import{I as $,S as fe}from"./index-CXRgmS-R.js";import"./index-C4oF5NQb.js";function he(r,a,{checkForDefaultPrevented:o=!0}={}){return function(n){if(r==null||r(n),o===!1||!n.defaultPrevented)return a==null?void 0:a(n)}}function U(r,a){if(typeof r=="function")return r(a);r!=null&&(r.current=a)}function V(...r){return a=>{let o=!1;const d=r.map(n=>{const l=U(n,a);return!o&&typeof l=="function"&&(o=!0),l});if(o)return()=>{for(let n=0;n<d.length;n++){const l=d[n];typeof l=="function"?l():U(r[n],null)}}}}function W(...r){return c.useCallback(V(...r),r)}function ye(r,a=[]){let o=[];function d(l,i){const s=c.createContext(i),m=o.length;o=[...o,i];const x=f=>{var S;const{scope:y,children:N,...j}=f,w=((S=y==null?void 0:y[r])==null?void 0:S[m])||s,A=c.useMemo(()=>j,Object.values(j));return e.jsx(w.Provider,{value:A,children:N})};x.displayName=l+"Provider";function u(f,y){var w;const N=((w=y==null?void 0:y[r])==null?void 0:w[m])||s,j=c.useContext(N);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${l}\``)}return[x,u]}const n=()=>{const l=o.map(i=>c.createContext(i));return function(s){const m=(s==null?void 0:s[r])||l;return c.useMemo(()=>({[`__scope${r}`]:{...s,[r]:m}}),[s,m])}};return n.scopeName=r,[d,be(n,...a)]}function be(...r){const a=r[0];if(r.length===1)return a;const o=()=>{const d=r.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const i=d.reduce((s,{useScope:m,scopeName:x})=>{const f=m(l)[`__scope${x}`];return{...s,...f}},{});return c.useMemo(()=>({[`__scope${a.scopeName}`]:i}),[i])}};return o.scopeName=a.scopeName,o}var Z=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},ke=oe[" useInsertionEffect ".trim().toString()]||Z;function Ne({prop:r,defaultProp:a,onChange:o=()=>{},caller:d}){const[n,l,i]=je({defaultProp:a,onChange:o}),s=r!==void 0,m=s?r:n;{const u=c.useRef(r!==void 0);c.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${d} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,d])}const x=c.useCallback(u=>{var f;if(s){const y=ve(u)?u(r):u;y!==r&&((f=i.current)==null||f.call(i,y))}else l(u)},[s,r,l,i]);return[m,x]}function je({defaultProp:r,onChange:a}){const[o,d]=c.useState(r),n=c.useRef(o),l=c.useRef(a);return ke(()=>{l.current=a},[a]),c.useEffect(()=>{var i;n.current!==o&&((i=l.current)==null||i.call(l,o),n.current=o)},[o,n]),[o,d,l]}function ve(r){return typeof r=="function"}function we(r){const a=c.useRef({value:r,previous:r});return c.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}function Se(r){const[a,o]=c.useState(void 0);return Z(()=>{if(r){o({width:r.offsetWidth,height:r.offsetHeight});const d=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const l=n[0];let i,s;if("borderBoxSize"in l){const m=l.borderBoxSize,x=Array.isArray(m)?m[0]:m;i=x.inlineSize,s=x.blockSize}else i=r.offsetWidth,s=r.offsetHeight;o({width:i,height:s})});return d.observe(r,{box:"border-box"}),()=>d.unobserve(r)}else o(void 0)},[r]),a}function Ae(r){const a=Pe(r),o=c.forwardRef((d,n)=>{const{children:l,...i}=d,s=c.Children.toArray(l),m=s.find(qe);if(m){const x=m.props.children,u=s.map(f=>f===m?c.Children.count(x)>1?c.Children.only(null):c.isValidElement(x)?x.props.children:null:f);return e.jsx(a,{...i,ref:n,children:c.isValidElement(x)?c.cloneElement(x,void 0,u):null})}return e.jsx(a,{...i,ref:n,children:l})});return o.displayName=`${r}.Slot`,o}function Pe(r){const a=c.forwardRef((o,d)=>{const{children:n,...l}=o;if(c.isValidElement(n)){const i=De(n),s=_e(l,n.props);return n.type!==c.Fragment&&(s.ref=d?V(d,i):i),c.cloneElement(n,s)}return c.Children.count(n)>1?c.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var Ce=Symbol("radix.slottable");function qe(r){return c.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Ce}function _e(r,a){const o={...a};for(const d in a){const n=r[d],l=a[d];/^on[A-Z]/.test(d)?n&&l?o[d]=(...s)=>{const m=l(...s);return n(...s),m}:n&&(o[d]=n):d==="style"?o[d]={...n,...l}:d==="className"&&(o[d]=[n,l].filter(Boolean).join(" "))}return{...r,...o}}function De(r){var d,n;let a=(d=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:d.get,o=a&&"isReactWarning"in a&&a.isReactWarning;return o?r.ref:(a=(n=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:n.get,o=a&&"isReactWarning"in a&&a.isReactWarning,o?r.props.ref:r.props.ref||r.ref)}var Ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H=Ee.reduce((r,a)=>{const o=Ae(`Primitive.${a}`),d=c.forwardRef((n,l)=>{const{asChild:i,...s}=n,m=i?o:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...s,ref:l})});return d.displayName=`Primitive.${a}`,{...r,[a]:d}},{}),B="Switch",[Ie,Qe]=ye(B),[Te,$e]=Ie(B),Y=c.forwardRef((r,a)=>{const{__scopeSwitch:o,name:d,checked:n,defaultChecked:l,required:i,disabled:s,value:m="on",onCheckedChange:x,form:u,...f}=r,[y,N]=c.useState(null),j=W(a,C=>N(C)),w=c.useRef(!1),A=y?u||!!y.closest("form"):!0,[S,F]=Ne({prop:n,defaultProp:l??!1,onChange:x,caller:B});return e.jsxs(Te,{scope:o,checked:S,disabled:s,children:[e.jsx(H.button,{type:"button",role:"switch","aria-checked":S,"aria-required":i,"data-state":X(S),"data-disabled":s?"":void 0,disabled:s,value:m,...f,ref:j,onClick:he(r.onClick,C=>{F(O=>!O),A&&(w.current=C.isPropagationStopped(),w.current||C.stopPropagation())})}),A&&e.jsx(J,{control:y,bubbles:!w.current,name:d,value:m,checked:S,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Y.displayName=B;var Q="SwitchThumb",G=c.forwardRef((r,a)=>{const{__scopeSwitch:o,...d}=r,n=$e(Q,o);return e.jsx(H.span,{"data-state":X(n.checked),"data-disabled":n.disabled?"":void 0,...d,ref:a})});G.displayName=Q;var Re="SwitchBubbleInput",J=c.forwardRef(({__scopeSwitch:r,control:a,checked:o,bubbles:d=!0,...n},l)=>{const i=c.useRef(null),s=W(i,l),m=we(o),x=Se(a);return c.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(f,"checked").set;if(m!==o&&N){const j=new Event("click",{bubbles:d});N.call(u,o),u.dispatchEvent(j)}},[m,o,d]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:s,style:{...n.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J.displayName=Re;function X(r){return r?"checked":"unchecked"}var K=Y,ze=G;const ee=c.forwardRef(({className:r,...a},o)=>e.jsx(K,{className:L("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:o,children:e.jsx(ze,{className:L("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ee.displayName=K.displayName;function Ge({cartItems:r=[]}){const[a,o]=c.useState(!1),{register:d,handleSubmit:n,setValue:l,watch:i,formState:{errors:s},reset:m,trigger:x}=le({defaultValues:{name:"",email:"",phone:"",userAddress:"",shippingAddress:"",city:"",zip:"",billingNumber:"",bookingAmount:"",paidAmount:"",products:r.map(t=>{var g;return{quantity:t.quantity||1,product_id:(g=t.product)==null?void 0:g.id}}),deliveryDate:new Date().toISOString().split("T")[0],deliveryTime:"12:00",deliveryTimePeriod:"AM"}}),[u,f]=c.useState(r),[y,N]=c.useState(""),[j,w]=c.useState(!1),[A,S]=c.useState({}),F="https://ims.nikatby.in/user/public/api";c.useEffect(()=>{const t=JSON.parse(localStorage.getItem("userInfo")||"{}");t&&(l("name",t.name||""),l("email",t.email||""),l("phone",t.phone||""),l("userAddress",t.userAddress||t.billingAddress||""),l("shippingAddress",t.shippingAddress||""),l("city",t.city||""),l("zip",t.zip||""),l("billingNumber",t.billingNumber||""))},[l]);const C=(t,g,h)=>{const[p,k]=g.split(":");let P=parseInt(p);const T=parseInt(k);h==="PM"&&P<12?P+=12:h==="AM"&&P===12&&(P=0);const b=new Date(t);return b.setHours(P,T,0,0),`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")} ${String(P).padStart(2,"0")}:${String(T).padStart(2,"0")}:00`},O=(t,g,h)=>new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"2-digit",year:"numeric"}).replace(/(\d+)/g,"$1").replace(",","")+` at ${g} ${h}`,R=c.useCallback(async()=>{var t,g,h,p;if(!(!u.length||!i("deliveryTime")||!i("pickupTime")))try{const k=C(i("deliveryDate"),i("deliveryTime"),i("deliveryTimePeriod")),P={products:u.map(b=>({product_id:b.product.id,quantity:b.quantity||1})),delivered_date:k,pickup_date:pickupTimestamp},T=await de.post(`${F}/check-availability`,P);S(T.data)}catch(k){console.error("Availability check error:",k),S({}),(g=(t=k.response)==null?void 0:t.data)!=null&&g.error.pickup_date?q.fire({icon:"error",title:"Availability Check Failed",text:"The pickup date field must be a date after delivered date."}):q.fire({icon:"error",title:"Availability Check Failed",text:((p=(h=k.response)==null?void 0:h.data)==null?void 0:p.error)||"Please try again"})}},[u,i]),re=(t,g)=>{const h=Math.max(1,parseInt(g)||1),p=[...u],k=p[t];if(h>(k.product.stock_quantity||1/0)){N(`Only ${k.product.stock_quantity} available`);return}N(""),p[t].quantity=h,f(p),l(`products[${t}].quantity`,h),x(`products[${t}].quantity`),R()},I=parseFloat(i("bookingAmount"))||0,z=parseFloat(i("paidAmount"))||0,M=Math.max(I-z,0),te=async t=>{var g,h;if(new Date(t.deliveryDate),Object.values(A).some(p=>!(p!=null&&p.available))){q.fire({icon:"warning",title:"Stock Unavailable",text:"Some products are not available for the selected dates"});return}if(I<=0){q.fire({icon:"warning",title:"Invalid Booking Amount",text:"Booking amount must be greater than 0"});return}if(z>I){q.fire({icon:"warning",title:"Invalid Paid Amount",text:"Paid amount cannot exceed booking amount"});return}w(!0);try{const p=C(t.deliveryDate,t.deliveryTime,t.deliveryTimePeriod),k={name:t.name,email:t.email,phone:t.phone,userAddress:t.userAddress,shippingAddress:t.shippingAddress,city:t.city,zip:t.zip,billing_number:t.billingNumber,paid_amount:z,total_amount:I,pending_payment:M,is_gst:a?1:0,products:u.map(b=>({product_id:b.product.id,quantity:b.quantity,From:b.product.companyName||b.product.shop_name||"Unknown",product_price:parseFloat(b.product.price),total_price:parseFloat(b.product.price)*b.quantity,product_name:b.product.productName})),delivered_date:p,type:"checkout"},P=await pe.placeOrder(k);await q.fire({icon:"success",title:"Order Placed Successfully!",text:"Redirecting to products page...",timer:3e3,timerProgressBar:!0}),m(),f([]),N(""),S({}),xe.Inertia.visit("https://event.nikatby.in/user/public/AllProduct")}catch(p){console.error("Order placement error:",p),q.fire({icon:"error",title:"Order Failed",text:((h=(g=p.response)==null?void 0:g.data)==null?void 0:h.error)||"Please try again"})}finally{w(!1)}},se=()=>{const t=Object.keys(i()).length,g=Object.values(i()).filter(p=>p).length,h=u.some(p=>p.quantity>0)?1:0;return Math.min((g+h)/(t+1)*100,100)},ae=i("deliveryDate"),ie=t=>{const[g,h,p]=t.split("-");return new Date(parseInt(g),parseInt(h)-1,parseInt(p))},ne=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;return e.jsx(ge,{children:e.jsxs("div",{className:"max-w-5xl mx-auto p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-indigo-50 via-gray-100 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-900 min-h-screen",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-400 dark:to-purple-400 tracking-tight mb-8",children:"Complete Your Booking"}),e.jsx(ce,{value:se(),className:"mb-8 h-3 rounded-full bg-indigo-200 dark:bg-gray-700 shadow-md"}),u.length===0?e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 text-lg py-6 animate-pulse",children:["No items in cart."," ",e.jsx("a",{href:"/AllProduct",className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"Add some products!"})]}):e.jsxs("form",{onSubmit:n(te),children:[u.map((t,g)=>{var h,p;return e.jsxs(_,{className:"mb-6 shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl overflow-hidden bg-white dark:bg-gray-800 border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Order Summary"}),e.jsx(E,{className:"space-y-4 p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100 tracking-tight",children:t.product.productName}),e.jsx(v,{type:"number",min:"1",value:t.quantity,...d(`products[${g}].quantity`,{valueAsNumber:!0,min:{value:1,message:"Quantity must be at least 1"},required:"Quantity is required"}),onChange:k=>re(g,k.target.value),className:"w-24 text-center mt-2 rounded-lg shadow-md border-indigo-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),y&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1 animate-pulse",children:y}),((p=(h=s.products)==null?void 0:h[g])==null?void 0:p.quantity)&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:s.products[g].quantity.message}),A[t.product.id]&&e.jsx("p",{className:`text-sm mt-1 ${A[t.product.id].available?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400 animate-pulse"}`,children:A[t.product.id].message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Price:"}),e.jsxs("span",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-300 flex items-center",children:[e.jsx($,{size:20})," ",(parseFloat(t.product.price)*t.quantity).toFixed(2)]})]})]})})]},t.product.id||g)}),u.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Billing Information"}),e.jsxs(E,{className:"p-6 space-y-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsx(v,{...d("billingNumber",{required:"Billing Number is required",maxLength:{value:50,message:"Billing Number must not exceed 50 characters"}}),placeholder:"Billing Number",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.billingNumber&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.billingNumber.message})]})]}),e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Payment Details"}),e.jsxs(E,{className:"p-6 space-y-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Booking Amount:"}),e.jsxs("div",{className:"flex flex-col w-full sm:w-32",children:[e.jsx(v,{type:"number",min:"0",step:"0.01",...d("bookingAmount",{valueAsNumber:!0,required:"Booking amount is required",min:{value:.01,message:"Booking amount must be greater than 0"}}),placeholder:"Enter Amount",className:"text-center rounded-lg shadow-md border-indigo-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.bookingAmount&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:s.bookingAmount.message})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Paid Amount:"}),e.jsxs("div",{className:"flex flex-col w-full sm:w-32",children:[e.jsx(v,{type:"number",min:"0",step:"0.01",...d("paidAmount",{valueAsNumber:!0,required:"Paid amount is required",validate:t=>t<=I||"Paid amount cannot exceed booking amount"}),placeholder:"Enter Amount",className:"text-center rounded-lg shadow-md border-indigo-300 dark:border-gray-600 focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.paidAmount&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-1",children:s.paidAmount.message})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"GST"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:a?"Yes":"No"}),e.jsx(ee,{checked:a,onCheckedChange:t=>o(t)})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Remaining Amount:"}),e.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-300 font-bold text-xl",children:[e.jsx($,{size:20})," ",M.toFixed(2)]})]})]})]}),e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Client Details"}),e.jsxs(E,{className:"p-6 space-y-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsx(v,{...d("name",{required:"Name is required",maxLength:{value:255,message:"Name must not exceed 255 characters"}}),placeholder:"Full Name",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.name&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.name.message}),e.jsx(v,{...d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},maxLength:{value:255,message:"Email must not exceed 255 characters"}}),placeholder:"Email Address",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.email&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.email.message}),e.jsx(v,{...d("phone",{required:"Phone number is required",pattern:{value:/^\d{10}$/,message:"Phone number must be 10 digits"}}),placeholder:"Phone Number",maxLength:10,className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.phone&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.phone.message})]})]}),e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Address Details"}),e.jsxs(E,{className:"p-6 space-y-6 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsx(v,{...d("userAddress",{required:"User Address is required",maxLength:{value:500,message:"Address must not exceed 500 characters"}}),placeholder:"User Street Address",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.userAddress&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.userAddress.message}),e.jsx(v,{...d("shippingAddress",{required:"Shipping Address is required",maxLength:{value:500,message:"Address must not exceed 500 characters"}}),placeholder:"Shipping Street Address",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.shippingAddress&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.shippingAddress.message}),e.jsx(v,{...d("city",{required:"City is required",maxLength:{value:100,message:"City must not exceed 100 characters"}}),placeholder:"City",className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.city&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.city.message}),e.jsx(v,{...d("zip",{required:"ZIP Code is required",pattern:{value:/^\d{6}$/,message:"ZIP Code must be 6 digits"}}),placeholder:"ZIP Code",maxLength:6,className:"border-indigo-300 dark:border-gray-600 rounded-lg shadow-md focus:ring-2 focus:ring-indigo-500 transition-all duration-300 bg-indigo-50 dark:bg-gray-700"}),s.zip&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:s.zip.message})]})]}),e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Event Date"}),e.jsxs(E,{className:"p-6 flex flex-col items-center dark:from-gray-900 dark:to-gray-800",children:[e.jsx(me,{mode:"single",selected:ie(ae),onSelect:t=>{if(t){const g=ne(t);l("deliveryDate",g),R()}},disabled:t=>{new Date().setHours(0,0,0,0)},className:"rounded-md border border-indigo-300 dark:border-gray-600 shadow-md bg-white dark:bg-gray-800 max-w-md"}),e.jsxs("div",{className:"mt-4 w-full max-w-md flex gap-2",children:[e.jsx(v,{type:"time",...d("deliveryTime",{required:"Delivery time is required"}),onChange:t=>{l("deliveryTime",t.target.value),R()},className:"flex-1 p-2 border border-indigo-300 dark:border-gray-600 rounded-lg bg-indigo-50 dark:bg-gray-700 focus:ring-2 focus:ring-indigo-500 transition-all duration-300"}),e.jsxs("select",{...d("deliveryTimePeriod",{required:"Time period is required"}),onChange:t=>{l("deliveryTimePeriod",t.target.value),R()},className:"p-2 border border-indigo-300 dark:border-gray-600 rounded-lg bg-indigo-50 dark:bg-gray-700 focus:ring-2 focus:ring-indigo-500 transition-all duration-300",children:[e.jsx("option",{value:"AM",children:"AM"}),e.jsx("option",{value:"PM",children:"PM"})]})]}),s.deliveryTime&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mt-2",children:s.deliveryTime.message}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 italic",children:"Select a date and exact time for Event (must be on or before pickup date)."})]})]}),e.jsxs(_,{className:"mb-6 shadow-lg border border-indigo-200 dark:border-gray-700",children:[e.jsx(D,{className:"bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 text-gray-800 dark:text-gray-100 font-semibold p-4",children:"Order Preview"}),e.jsxs(E,{className:"p-6 space-y-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-900 dark:to-gray-800",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Name:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("name")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Email:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("email")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("phone")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Billing Number:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("billingNumber")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"User Address:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("userAddress")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Shipping Address:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("shippingAddress")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"City:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("city")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"ZIP Code:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("zip")||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Schedule:"}),e.jsx("span",{className:"text-gray-800 dark:text-gray-100",children:i("deliveryTime")?O(i("deliveryDate"),i("deliveryTime"),i("deliveryTimePeriod")):new Date(i("deliveryDate")).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"2-digit",year:"numeric"}).replace(/(\d+)/g,"$1").replace(",","")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Booking Amount:"}),e.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-300 font-bold",children:[e.jsx($,{size:20})," ",I.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Paid Amount:"}),e.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-300 font-bold",children:[e.jsx($,{size:20})," ",z.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Remaining Amount:"}),e.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-300 font-bold",children:[e.jsx($,{size:20})," ",M.toFixed(2)]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(ue,{type:"submit",className:"w-full sm:w-1/2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white py-4 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",disabled:j||u.length===0||Object.values(A).some(t=>!(t!=null&&t.available)),children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),j?"Placing Order...":"Place Order"]})})]})]})]})})}export{Ge as default};
